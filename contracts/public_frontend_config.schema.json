{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://robodj.local/contracts/public_frontend_config.schema.json",
  "title": "public_frontend_config",
  "description": "Frontend-safe configuration contract. Must contain only non-sensitive settings suitable for web clients.",
  "type": "object",
  "additionalProperties": false,
  "$comment": "All fields are optional unless listed in required. Consumers should apply documented defaults when optional fields are absent.",
  "required": [
    "station",
    "ui",
    "features"
  ],
  "properties": {
    "station": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "display_name",
        "time_zone"
      ],
      "properties": {
        "display_name": { "type": "string" },
        "tagline": { "type": "string" },
        "time_zone": { "type": "string" }
      }
    },
    "ui": {
      "type": "object",
      "additionalProperties": false,
      "description": "UI presentation settings. When optional fields are absent, clients should apply schema-provided defaults for stable rendering.",
      "properties": {
        "theme": {
          "type": "string",
          "enum": ["light", "dark", "auto"],
          "default": "auto",
          "description": "Global theme hint. Fallback: auto."
        },
        "show_weather_widget": {
          "type": "boolean",
          "default": false,
          "description": "Whether to render the weather widget. Fallback: false."
        },
        "refresh_interval_seconds": {
          "type": "integer",
          "minimum": 5,
          "maximum": 300,
          "default": 30,
          "description": "Polling interval for frontend refresh behavior. Fallback: 30 seconds."
        },
        "tokens": {
          "type": "object",
          "additionalProperties": false,
          "description": "Safe visual primitives only; never include secrets or file paths. If omitted, clients should use the documented token defaults.",
          "properties": {
            "primary_color": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "default": "#2B6CB0",
              "description": "Primary UI color in 6-digit hex format. Fallback: #2B6CB0."
            },
            "accent_color": {
              "type": "string",
              "pattern": "^#[0-9a-fA-F]{6}$",
              "default": "#D69E2E",
              "description": "Accent/highlight color in 6-digit hex format. Fallback: #D69E2E."
            },
            "surface_style": {
              "type": "string",
              "enum": ["flat", "elevated", "glass"],
              "default": "flat",
              "description": "Surface treatment preset. Fallback: flat."
            },
            "density": {
              "type": "string",
              "enum": ["comfortable", "compact"],
              "default": "comfortable",
              "description": "Spacing/compactness preset. Fallback: comfortable."
            },
            "corner_radius_scale": {
              "type": "number",
              "minimum": 0,
              "maximum": 2,
              "default": 1,
              "description": "Multiplier applied to component corner radii. Fallback: 1."
            },
            "font_stack": {
              "type": "string",
              "enum": ["system_ui", "humanist", "neo_grotesk", "serif"],
              "default": "system_ui",
              "description": "Optional named frontend font stack key (not a raw font file/path). Fallback: system_ui."
            }
          }
        }
      }
    },
    "features": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "enable_request_queue": { "type": "boolean" },
        "enable_now_playing": { "type": "boolean" }
      }
    }
  }
}
