{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://robodj.local/schema/schedules.schema.json",
  "title": "RoboDJ schedules configuration",
  "$comment": "TODO roadmap: (1) document canonical entities: show block, override, template, conflict type; (2) finalize validation edge cases including overnight rollover and holiday overrides; (3) add schema versioning and migration strategy for legacy schedule files; (4) treat schema freeze as prerequisite milestone before timeline/conflict/template implementation.",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "id": { "type": "string" },
      "name": { "type": "string" },
      "enabled": { "type": "boolean" },
      "schedule_type": {
        "type": "string",
        "enum": ["daily", "weekly", "monthly", "one_time", "interval"]
      },
      "start_time": {
        "type": "string",
        "pattern": "^(?:[01]\\d|2[0-3]):[0-5]\\d$"
      },
      "timezone": { "type": "string" },
      "days_of_week": {
        "type": "array",
        "items": {
          "type": "string",
          "enum": [
            "monday",
            "tuesday",
            "wednesday",
            "thursday",
            "friday",
            "saturday",
            "sunday"
          ]
        }
      },
      "day_of_month": { "type": "integer", "minimum": 1, "maximum": 31 },
      "prompt_id": { "type": "string" },
      "notes": { "type": "string" },
      "metadata": { "type": "object" }
    },
    "required": ["id", "name", "enabled"],
    "additionalProperties": false
  }
}
